function _classCallCheck(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}!function(){"use strict";var n="undefined"==typeof window?global:window;if("function"!=typeof n.require){var e={},t={},r={}.hasOwnProperty,i={},o=function(n,e){var t=0;e&&(e.indexOf(!1)&&(t="components/".length),e.indexOf("/",t)>0&&(e=e.substring(t,e.indexOf("/",t))));var r=i[n+"/index.js"]||i[e+"/deps/"+n+"/index.js"];return r?"components/"+r.substring(0,r.length-".js".length):n},u=function(){var n=/^\.\.?(\/|$)/;return function(e,t){var r,i,o=[];r=(n.test(t)?e+"/"+t:t).split("/");for(var u=0,a=r.length;a>u;u++)i=r[u],".."===i?o.pop():"."!==i&&""!==i&&o.push(i);return o.join("/")}}(),a=function(n){return n.split("/").slice(0,-1).join("/")},c=function(e){return function(t){var r=u(a(e),t);return n.require(r,e)}},f=function(n,e){var r={id:n,exports:{}};return t[n]=r,e(r.exports,c(n),r),r.exports},s=function(n,i){var a=u(n,".");if(null==i&&(i="/"),a=o(n,i),r.call(t,a))return t[a].exports;if(r.call(e,a))return f(a,e[a]);var c=u(a,"./index");if(r.call(t,c))return t[c].exports;if(r.call(e,c))return f(c,e[c]);throw new Error('Cannot find module "'+n+'" from "'+i+'"')};s.alias=function(n,e){i[e]=n},s.register=s.define=function(n,t){if("object"==typeof n)for(var i in n)r.call(n,i)&&(e[i]=n[i]);else e[n]=t},s.list=function(){var n=[];for(var t in e)r.call(e,t)&&n.push(t);return n},s.brunch=!0,n.require=s}}();var _createClass=function(){function n(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();!function(n,e){function t(){return n.getRandomValues(new Uint8Array(1))[0]}function r(n){return 4294967296*Math.random()>>>((3&n)<<3)&255}function i(){var n=0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=u(n++)%16|0,r="x"==e?t:3&t|8;return r.toString(16)})}var o=/[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-4[a-fA-F0-9]{3}-[89aAbB][a-fA-F0-9]{3}-[a-fA-F0-9]{12}|[0]{8}-[0]{4}-[0]{4}-[0]{4}-[0]{12}/;e.isUuid=function(n){return n.match(o)};var u=n&&n.getRandomValues&&Uint8Array?t:r,a=function(){function n(e){if(_classCallCheck(this,n),e&&!isUuid(e.toString()))throw new Error("seed value for uuid must be valid uuid.");this.innervalue=(e||i()).toString(),this.innertime=new Date}return _createClass(n,null,[{key:"EMPTY",get:function(){return new n("00000000-0000-0000-0000-000000000000")}}]),_createClass(n,[{key:"toString",value:function(){return this.value}},{key:"value",get:function(){return this.innervalue}},{key:"time",get:function(){return this.innertime}}]),n}();e.Uuid=a}(window.crypto||window.msCrypto,window);var _createClass=function(){function n(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}();!function(n,e,t){function r(n,t,r){return u=new a(n,t,new e(r))}var i=n,o={CORRELATION_ID_HEADER:"X-Correlation-Id",CORRELATION_ID_STARTED_HEADER:"X-Correlation-Started",CORRELATION_ID_NAME_HEADER:"X-Correlation-Name",CORRELATION_ID_PARENT_HEADER:"X-Correlation-Parent"};i.Statics=o;var u=null,a=function(){function n(t,r,i){if(_classCallCheck(this,n),r&&!(r instanceof n))throw new Error("parent must be an activity scope.");if(i&&!(i instanceof e))throw new Error("seed must be a valid UUID.");this.innerid=i||new e,this.innername=t,this.innerparent=r||null}return _createClass(n,[{key:"id",get:function(){return this.innerid}},{key:"parent",get:function(){return this.innerparent}},{key:"name",get:function(){return this.innername}}],[{key:"create",value:function(n,e){return r(n,null,e)}},{key:"child",value:function(n,e){return r(n,u,e)}},{key:"new",value:function(n,e){return r(n,u.parent,e)}},{key:"current",get:function(){return u},set:function(e){if(e&&!(e instanceof n))throw new Error("Can't set value of activity scope to be anything but activity scope type.");u=e}}]),n}();i.ActivityScope=a,t.CorrelatorSharp=i}(window.CorrelatorSharp||{},Uuid,window),function(n,e,t){n.module("correlator-sharp",[]).config(["$httpProvider",function(n){n.interceptors.push("csHttpInterceptor")}]).factory("csHttpInterceptor",["csStatic","csActivityScope",function(n,e){return{request:function(r){var i=r.method+" "+r.url,o=new t.ActivityScope(i,e.current);return r.headers[n.CORRELATION_ID_HEADER]=o.id.value,r.headers[n.CORRELATION_ID_STARTED_HEADER]=o.id.time,r.headers[n.CORRELATION_ID_NAME_HEADER]=o.name,o.parent&&(r.headers[n.CORRELATION_ID_PARENT_HEADER]=o.parent.id.value),r},response:function(t){var r=t.headers[n.CORRELATION_ID_HEADER];if(r){var i=t.config.method+" "+t.config.url;e.create(i,r)}return t}}}]).service("csStatic",function(){return n.extend({},t.Statics)}).service("csUuid",function(){return{generate:function(n){return new e(n)}}}).service("csActivityScope",["$rootScope","csUuid",function(n,e){return Object.defineProperties({create:function(n,e){return t.ActivityScope.create(n,e)},child:function(n,e){return t.ActivityScope.child(n,e)},"new":function(n,e){return t.ActivityScope["new"](n,e)}},{current:{get:function(){return t.ActivityScope.current},set:function(n){t.ActivityScope.current=n},configurable:!0,enumerable:!0}})}])}(angular,Uuid,CorrelatorSharp);